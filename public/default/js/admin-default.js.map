{"version":3,"sources":["checkbox.js","control.js","image.js","datetime.js","select.js","init.js","initMultiple.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AD/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"admin-default.js","sourcesContent":["$(function () {\r\n    $('.adminCheckboxRow').on('change', function(e) {\r\n        var $self = $(this),\r\n            $row = $self.closest('tr');\r\n\r\n        if($self.is(':checked')) {\r\n            $row.addClass('info');\r\n        } else {\r\n            $row.removeClass('info');\r\n        }\r\n    });\r\n\r\n    $('.adminCheckboxAll').on('change', function() {\r\n        var $self = $(this),\r\n            $checkboxes = $('.adminCheckboxRow');\r\n\r\n        if($self.is(':checked')) {\r\n            $checkboxes.not(':checked').each(function(i, a) {\r\n                this.checked = true;\r\n                $(this).trigger('change');\r\n            });\r\n        } else {\r\n            $checkboxes.filter(':checked').each(function(i, a) {\r\n                this.checked = false;\r\n                $(this).trigger('change');\r\n            });\r\n        }\r\n    });\r\n});","$(function () {\r\n    console.log('control');\r\n    $('button.btn-delete').on('click', function (e) {\r\n        console.log('.btn-delete');\r\n        e.preventDefault();\r\n        var form = $(this).closest('form');\r\n        bootbox.confirm(window.Admin.Settings.lang.table['delete-confirm'], function (result) {\r\n            if (result) {\r\n                form.submit();\r\n            }\r\n        });\r\n    });\r\n\r\n    $('button.btn-destroy').on('click', function (e) {\r\n        e.preventDefault();\r\n        var form = $(this).closest('form');\r\n        bootbox.confirm(window.Admin.Settings.lang.table['destroy-confirm'], function (result) {\r\n            if (result) {\r\n                form.submit();\r\n            }\r\n        });\r\n    });\r\n});","$(function () {\r\n    $(document).delegate('*[data-toggle=\"lightbox\"]', 'click', function (e) {\r\n        e.preventDefault();\r\n        $(this).ekkoLightbox({\r\n            always_show_close: false\r\n        });\r\n    });\r\n});","$(function () {\r\n    $('.input-date').each(function () {\r\n        var $self = $(this);\r\n        $self.datetimepicker({\r\n            locale: window.Admin.Settings.locale\r\n        }).trigger('dp.change').on('dp.change', function () {\r\n            $self.change();\r\n        });\r\n    });\r\n});","$(function () {\r\n    $('.input-select').each(function () {\r\n        var options = {},\r\n            $self = $(this);\r\n\r\n        if ($self.hasClass('input-taggable')) {\r\n            options['tags'] = true;\r\n        }\r\n\r\n        $self.select2(options)\r\n    });\r\n});","window.Admin.Components\r\n    .add('ckeditor', function() {\r\n        switchOn_handler = function (textarea_id, params) {\r\n            CKEDITOR.disableAutoInline = true;\r\n\r\n            var params = $.extend({}, params);\r\n\r\n            return CKEDITOR.replace(textarea_id, params);\r\n        };\r\n\r\n        switchOff_handler = function (editor, textarea_id) {\r\n            editor.destroy()\r\n        }\r\n\r\n        exec_handler = function (editor, command, textarea_id, data) {\r\n            switch (command) {\r\n                case 'insert':\r\n                    editor.insertText(data);\r\n                    break;\r\n                case 'changeHeight':\r\n                    editor.resize('100%', data);\r\n            }\r\n        }\r\n\r\n        window.Admin.WYSIWYG.add(\r\n            'ckeditor',\r\n            switchOn_handler,\r\n            switchOff_handler,\r\n            exec_handler\r\n        );\r\n    })\r\n    .add('tinymce', function() {\r\n        switchOn_handler = function (textarea_id, params) {\r\n            var params = $.extend({\r\n                selector:'#'+textarea_id\r\n            }, params);\r\n\r\n\r\n            return tinymce.init(params);\r\n        };\r\n\r\n        switchOff_handler = function (editor, textarea_id) {\r\n            editor.destroy();\r\n        }\r\n\r\n        exec_handler = function (editor, command, textarea_id, data) {\r\n            switch (command) {\r\n                case 'insert':\r\n                    editor.insertContent(data);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        window.Admin.WYSIWYG.add(\r\n            'tinymce',\r\n            switchOn_handler,\r\n            switchOff_handler,\r\n            exec_handler\r\n        );\r\n    }).add('simplemde', function() {\r\n        switchOn_handler = function (textarea_id, params) {\r\n            var params = $.extend({\r\n                element: $(\"#\"+textarea_id)[0]\r\n            }, params);\r\n\r\n\r\n            return new SimpleMDE(params);\r\n        };\r\n\r\n        switchOff_handler = function (editor, textarea_id) {\r\n            editor.destroy();\r\n        }\r\n\r\n        exec_handler = function (editor, command, textarea_id, data) {\r\n            switch (command) {\r\n                case 'insert':\r\n                    editor.codemirror.replaceSelection(data);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        window.Admin.WYSIWYG.add(\r\n            'simplemde',\r\n            switchOn_handler,\r\n            switchOff_handler,\r\n            exec_handler\r\n        );\r\n    });\r\n\r\n\r\n\r\n\r\n$(function () {\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n\r\n    $('form[data-type=\"display-actions\"]').on('submit', function(e) {\r\n        var $form = $(this),\r\n            $btn = $(e.target.action),\r\n            $checkboxes = $('.adminCheckboxRow').filter(':checked');\r\n\r\n        if (!$checkboxes.length) {\r\n            e.preventDefault();\r\n        }\r\n\r\n        this.action = $btn.data('action');\r\n        this.method = $btn.data('method');\r\n\r\n        $checkboxes.each(function () {\r\n            $form.append('<input type=\"hidden\" name=\"id[]\" value=\"' + $(this).val() + '\" />');\r\n        });\r\n    });\r\n\r\n    $('.inline-editable').editable();\r\n\r\n    window.Admin.Components.init();\r\n    window.Admin.Controllers.call();\r\n\r\n    bootbox.setDefaults('locale', window.Admin.Settings.locale);\r\n});","$(function () {\r\n    $('.imageUploadMultiple').each(function (index, item) {\r\n        var $item = $(item);\r\n        var $group = $item.closest('.form-group');\r\n        var $innerGroup = $item.find('.form-group');\r\n        var $errors = $item.find('.errors');\r\n        var $input = $item.find('.imageValue');\r\n        var flow = new Flow({\r\n            target: $item.data('target'),\r\n            testChunks: false,\r\n            chunkSize: 1024 * 1024 * 1024,\r\n            query: {\r\n                _token: $item.data('token')\r\n            }\r\n        });\r\n        var updateValue = function () {\r\n            var values = [];\r\n            $item.find('img[data-value]').each(function () {\r\n                values.push($(this).data('value'));\r\n            });\r\n            $input.val(values.join(','));\r\n        };\r\n        flow.assignBrowse($item.find('.imageBrowse'));\r\n        flow.on('filesSubmitted', function (file) {\r\n            flow.upload();\r\n        });\r\n        flow.on('fileSuccess', function (file, message) {\r\n            flow.removeFile(file);\r\n\r\n            $errors.html('');\r\n            $group.removeClass('has-error');\r\n\r\n            var result = $.parseJSON(message);\r\n            var template = $($('#thumbnail_template').html());\r\n            template.find('img').attr('src', result.url).attr('data-value', result.value);\r\n\r\n            $innerGroup.append(template);\r\n\r\n            updateValue();\r\n        });\r\n        flow.on('fileError', function (file, message) {\r\n            flow.removeFile(file);\r\n\r\n            var response = $.parseJSON(message);\r\n            var errors = '';\r\n            $.each(response, function (index, error) {\r\n                errors += '<p class=\"help-block\">' + error + '</p>'\r\n            });\r\n            $errors.html(errors);\r\n            $group.addClass('has-error');\r\n        });\r\n        $item.on('click', '.imageRemove', function (e) {\r\n            e.preventDefault();\r\n            $(this).closest('.imageThumbnail').remove();\r\n            updateValue();\r\n        });\r\n\r\n        $innerGroup.sortable({\r\n            onUpdate: function () {\r\n                updateValue();\r\n            }\r\n        });\r\n    });\r\n});"],"sourceRoot":"/source/"}